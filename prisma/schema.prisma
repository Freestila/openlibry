// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  id                Int      @id @default(autoincrement())
  lastName          String
  firstName         String
  // could be 3A or so
  schoolGrade       String?
  schoolTeacherName String?
  eMail             String?
  books             Book[]
}

model Book {
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  id           Int       @id @default(autoincrement())
  rentalStatus String    @default("available")
  rentedDate   DateTime  @default(now())
  dueDate      DateTime?
  renewalCount Int
  title        String
  subtitle     String?
  author       String
  topics       String?
  imageLink    String?

  //additional fields from OpenBiblio data model
  isbn                    String?
  editionDescription      String?
  publisherLocation       String?
  pages                   Int?
  summary                 String?
  minPlayers              String?
  publisherName           String?
  otherPhysicalAttributes String?
  supplierComment         String?
  publisherDate           String?
  physicalSize            String?
  minAge                  String?
  maxAge                  String?
  additionalMaterial      String?
  price                   Float?

  user   User? @relation(fields: [userId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  userId Int?
}
